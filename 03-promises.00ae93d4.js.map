{"mappings":"YAAA,IAAMA,EAAkBC,SAASC,kBAAkB,SAC7CC,EAAiBF,SAASC,kBAAkB,QAC5CE,EAAcH,SAASC,kBAAkB,UACzCG,EAAMJ,SAASK,cAAc,UAE/BC,EAAkB,KAClBC,EAAa,KAEbC,EAAa,KAKjBJ,EAAIK,iBAAiB,QAASC,GAiD9B,SAASA,EAAcC,EAAUC,GAKjC,OAXER,EAAIS,UAAW,EAUfL,EAAaT,EAAgB,GAAGe,MAC3B,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACTN,EAAQV,EAAe,GAAGY,MAErBP,EAAaY,aAAY,WAExB,IAAIC,EADRd,GAAmB,EAENH,EAAY,GAAGW,OAEdR,GACZe,cAAcd,GAIMe,KAAKC,SAAW,IAIpCP,EAAQI,EAAUR,GAEpBY,QAAQC,IAAIT,OAGVC,EAAO,CAACG,WAASM,MAAAd,IACfY,QAAQC,IAAIR,K,GAIVL,E,GAGPJ,E,IAvCLJ,EAAIK,iBAAiB,QAASC,GA2C3BK,QACMY,MAAK,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUS,EAAKD,EAALF,MACjBF,QAAQM,IAAI,uBAAwCC,OAAfX,EAAS,QAAYW,OAANF,EAAM,M,IAE3DG,OAAM,SAAAJ,G,IAAGR,EAAQQ,EAARR,SAAUa,EAAKL,EAALF,MAClBF,QAAQM,IAAI,sBAAqCC,OAAfX,EAAS,QAAYW,OAANE,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["const inputFirstDelay = document.getElementsByName('delay');\nconst inputStepDelay = document.getElementsByName('step');\nconst inputAmount = document.getElementsByName('amount'); \nconst btn = document.querySelector('button');\n    \nlet positionPromise = null;\nlet intervalId = null;\nlet delay = null;\nlet firstDelay = null;\nlet intvalTimeout = null;\n\n\n\nbtn.addEventListener('click', createPromise);\n\n\n// function createPromise(position, delay) {\n//   return new Promise((resolve ,reject) =>{\n//   event.preventDefault();\n//   console.log(position);\n  \n//   firstDelay = inputFirstDelay[0].value;\n//   console.log(firstDelay);\n\n//   delay = inputStepDelay[0].value;\n//   console.log(delay);\n\n//   setTimeout(() => {\n    \n//     intervalId = setInterval(() =>{\n//   for (let i = 1; i <= inputAmount[0].value; i += 1) {\n//     positionPromise  +=1;\n//     console.log(position.currentTarget);\n//     const shouldResolve = Math.random() > 0.3;\n//     if (shouldResolve) {\n//       // Fulfill\n//       resolve('position');\n//       // console.dir(positionPromise);\n//     } else {\n//       // Reject\n//       reject('zalupa');\n//       // console.dir(positionPromise);\n//     }\n\n//    if (inputAmount[0].value == positionPromise) {\n//       clearInterval(intervalId);\n//     }\n    \n//   }}, delay)\n  \n \n//    }, firstDelay);\n// })};\n\n\nconst btnDisabled = () => {\n  btn.disabled = true;\n};\n\nbtn.addEventListener('click', createPromise); \n\n\nfunction createPromise(position, delay) {\n\n\n  btnDisabled();\n  firstDelay = inputFirstDelay[0].value;\nreturn new Promise((resolve, reject) => {\n  setTimeout(() => {\n    delay = inputStepDelay[0].value;\n     \n         intervalId = setInterval(() => {\n      positionPromise += 1;\n          let position = positionPromise;\n      let amount = inputAmount[0].value;\n     \n      if (amount == positionPromise) {\n        clearInterval(intervalId);\n        // location.reload();\n      }\n      \n      const shouldResolve = Math.random() > 0.3;\n        if (shouldResolve) {\n\n        // Fulfill\n        resolve(position, delay);\n      // console.log(position);\n      console.dir(resolve());\n      \n      } else {\n        reject({position,delay});\n          console.dir(reject());\n        // console.dir(position);\n        // reject\n      }\n         }, delay) \n    \n\n  }, firstDelay)})\n    // return promise;\n};\n\n   Promise\n        .then(({ position, delay }) => {\n          console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        });"],"names":["$ce04d3a99e08e73b$var$inputFirstDelay","document","getElementsByName","$ce04d3a99e08e73b$var$inputStepDelay","$ce04d3a99e08e73b$var$inputAmount","$ce04d3a99e08e73b$var$btn","querySelector","$ce04d3a99e08e73b$var$positionPromise","$ce04d3a99e08e73b$var$intervalId","$ce04d3a99e08e73b$var$firstDelay","addEventListener","$ce04d3a99e08e73b$var$createPromise","position1","delay1","disabled","value","Promise","resolve","reject","setTimeout","setInterval","position","clearInterval","Math","random","console","dir","delay","then","param","delay2","log","concat","catch","delay3"],"version":3,"file":"03-promises.00ae93d4.js.map"}
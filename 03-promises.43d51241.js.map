{"mappings":"AAAA,MAAMA,EAAkBC,SAASC,kBAAkB,SAC7CC,EAAiBF,SAASC,kBAAkB,QAC5CE,EAAcH,SAASC,kBAAkB,UACzCG,EAAMJ,SAASK,cAAc,UAEnC,IAAIC,EAAkB,KAElBC,EAAQ,KACRC,EAAa,KACbC,EAAS,KACTC,EAAY,KAEZC,EAAY,KAiChB,SAASC,EAAcC,EAAUC,GAe/B,OAdAR,GAAmB,EACnBO,EAAWP,EACI,IAAIS,SAAQ,CAACC,EAASC,KAEbC,KAAKC,SAAW,GAGpCH,EAAQ,CAAEI,SAAAP,EAAUQ,MAAAP,IAEpBG,EAAO,CAAEG,SAAAP,EAAUQ,MAAAP,GAAQ,G,CArCjCV,EAAIkB,iBAAiB,SAGrB,SAA8BC,GAC5BA,EAAMC,iBACNf,EAASN,EAAY,GAAGsB,MACxBjB,EAAakB,SAAS3B,EAAgB,GAAG0B,OACzCd,EAAYe,SAASxB,EAAe,GAAGuB,OAEvCf,EAAYiB,YAAW,KAErB,IAAK,IAAIC,EAAI,EAAGA,EAAInB,EAAQmB,GAAK,EAC/BD,YAAW,WACTpB,GAASI,EACTC,EArBO,KAqBiBL,GAC7BsB,MAAK,EAAGT,SAAAU,EAAUT,MAAAU,MACjBC,QAAQC,IAAI,uBAAqBH,QAAiBC,MAAU,IAE7DG,OAAM,EAAGd,SAAAe,EAAUd,MAAAe,MAClBJ,QAAQC,IAAI,sBAAoBE,QAAeC,MAAU,G,GAEtD7B,EAAM,GAETC,E","sources":["src/js/03-promises.js"],"sourcesContent":["const inputFirstDelay = document.getElementsByName('delay');\nconst inputStepDelay = document.getElementsByName('step');\nconst inputAmount = document.getElementsByName('amount'); \nconst btn = document.querySelector('button');\n    \nlet positionPromise = null;\n// let intervalId = null;\nlet delay = null;\nlet firstDelay = null;\nlet amount = null;\nlet timeoutId = null;\nlet position = null;\nlet stepDelay = null;\n\nconst btnDisabled = () => {\n  btn.disabled = true;\n};\n\nbtn.addEventListener('click', callCreatePromiseNOW);\n\n\nfunction callCreatePromiseNOW(event) {\n  event.preventDefault();\n  amount = inputAmount[0].value;\n  firstDelay = parseInt(inputFirstDelay[0].value);\n  stepDelay = parseInt(inputStepDelay[0].value);\n  \n  timeoutId = setTimeout(() => {\n  \n    for (let i = 0; i < amount; i += 1) {\n      setTimeout(function () {\n        delay += stepDelay;\n        createPromise(position, delay)\n  .then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n    }, delay);\n}\n  },firstDelay);\n}\n\n\nfunction createPromise(position, delay) {\n  positionPromise += 1;\n  position = positionPromise;\n  let promise =  new Promise((resolve, reject) => {\n    // delay = delay + stepDelay;\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      // Fulfill\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n      // Reject\n    }\n\n  })\n  return promise;\n};\n"],"names":["$47d4ff9957288465$var$inputFirstDelay","document","getElementsByName","$47d4ff9957288465$var$inputStepDelay","$47d4ff9957288465$var$inputAmount","$47d4ff9957288465$var$btn","querySelector","$47d4ff9957288465$var$positionPromise","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$timeoutId","$47d4ff9957288465$var$stepDelay","$47d4ff9957288465$var$createPromise","position3","delay3","Promise","resolve","reject","Math","random","position","delay","addEventListener","event","preventDefault","value","parseInt","setTimeout","i","then","position1","delay1","console","log","catch","position2","delay2"],"version":3,"file":"03-promises.43d51241.js.map"}
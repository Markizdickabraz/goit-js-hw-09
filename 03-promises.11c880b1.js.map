{"mappings":"AAAA,MAAMA,EAAkBC,SAASC,kBAAkB,SAC7CC,EAAiBF,SAASC,kBAAkB,QAC5CE,EAAcH,SAASC,kBAAkB,UACzCG,EAAMJ,SAASK,cAAc,UAEnC,IAAIC,EAAkB,KAClBC,EAAa,KAEbC,EAAa,KAKjBJ,EAAIK,iBAAiB,QAASC,GAiD9B,SAASA,EAAcC,EAAUC,GAKjC,OAXER,EAAIS,UAAW,EAUfL,EAAaT,EAAgB,GAAGe,MAC3B,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACTN,EAAQV,EAAe,GAAGY,MAErBP,EAAaY,aAAY,KAC5Bb,GAAmB,EACf,IAAIc,EAAWd,EACNH,EAAY,GAAGW,OAEdR,GACZe,cAAcd,GAIMe,KAAKC,SAAW,IAIpCP,EAAQI,EAAUR,GAEpBY,QAAQC,IAAIT,OAGVC,EAAO,C,SAACG,EAASM,MAAAd,IACfY,QAAQC,IAAIR,K,GAIVL,EAAM,GAGbJ,EAAW,G,CAvChBJ,EAAIK,iBAAiB,QAASC,GA2C3BK,QACMY,MAAK,EAACP,SAAEA,EAAUM,MAAAE,MACjBJ,QAAQK,IAAI,uBAAqBT,QAAiBQ,MAAU,IAE7DE,OAAM,EAACV,SAAEA,EAAUM,MAAAK,MAClBP,QAAQK,IAAI,sBAAoBT,QAAeW,MAAU","sources":["src/js/03-promises.js"],"sourcesContent":["const inputFirstDelay = document.getElementsByName('delay');\nconst inputStepDelay = document.getElementsByName('step');\nconst inputAmount = document.getElementsByName('amount'); \nconst btn = document.querySelector('button');\n    \nlet positionPromise = null;\nlet intervalId = null;\nlet delay = null;\nlet firstDelay = null;\nlet intvalTimeout = null;\n\n\n\nbtn.addEventListener('click', createPromise);\n\n\n// function createPromise(position, delay) {\n//   return new Promise((resolve ,reject) =>{\n//   event.preventDefault();\n//   console.log(position);\n  \n//   firstDelay = inputFirstDelay[0].value;\n//   console.log(firstDelay);\n\n//   delay = inputStepDelay[0].value;\n//   console.log(delay);\n\n//   setTimeout(() => {\n    \n//     intervalId = setInterval(() =>{\n//   for (let i = 1; i <= inputAmount[0].value; i += 1) {\n//     positionPromise  +=1;\n//     console.log(position.currentTarget);\n//     const shouldResolve = Math.random() > 0.3;\n//     if (shouldResolve) {\n//       // Fulfill\n//       resolve('position');\n//       // console.dir(positionPromise);\n//     } else {\n//       // Reject\n//       reject('zalupa');\n//       // console.dir(positionPromise);\n//     }\n\n//    if (inputAmount[0].value == positionPromise) {\n//       clearInterval(intervalId);\n//     }\n    \n//   }}, delay)\n  \n \n//    }, firstDelay);\n// })};\n\n\nconst btnDisabled = () => {\n  btn.disabled = true;\n};\n\nbtn.addEventListener('click', createPromise); \n\n\nfunction createPromise(position, delay) {\n\n\n  btnDisabled();\n  firstDelay = inputFirstDelay[0].value;\nreturn new Promise((resolve, reject) => {\n  setTimeout(() => {\n    delay = inputStepDelay[0].value;\n     \n         intervalId = setInterval(() => {\n      positionPromise += 1;\n          let position = positionPromise;\n      let amount = inputAmount[0].value;\n     \n      if (amount == positionPromise) {\n        clearInterval(intervalId);\n        // location.reload();\n      }\n      \n      const shouldResolve = Math.random() > 0.3;\n        if (shouldResolve) {\n\n        // Fulfill\n        resolve(position, delay);\n      // console.log(position);\n      console.dir(resolve());\n      \n      } else {\n        reject({position,delay});\n          console.dir(reject());\n        // console.dir(position);\n        // reject\n      }\n         }, delay) \n    \n\n  }, firstDelay)})\n    // return promise;\n};\n\n   Promise\n        .then(({ position, delay }) => {\n          console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        });"],"names":["$47d4ff9957288465$var$inputFirstDelay","document","getElementsByName","$47d4ff9957288465$var$inputStepDelay","$47d4ff9957288465$var$inputAmount","$47d4ff9957288465$var$btn","querySelector","$47d4ff9957288465$var$positionPromise","$47d4ff9957288465$var$intervalId","$47d4ff9957288465$var$firstDelay","addEventListener","$47d4ff9957288465$var$createPromise","position1","delay1","disabled","value","Promise","resolve","reject","setTimeout","setInterval","position","clearInterval","Math","random","console","dir","delay","then","delay2","log","catch","delay3"],"version":3,"file":"03-promises.11c880b1.js.map"}